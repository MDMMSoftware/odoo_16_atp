<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="fleet.fleet_vehicle_action" model="ir.actions.act_window">
            <field name="domain">[('type', '=', 'fleet')]</field>
            <field name="context">{'default_type':'fleet'}</field>
        </record>

        <record id="repair_product_view_form" model="ir.ui.view">
            <field name="name">repair.product.form.inherit</field>
            <field name="model">fleet.vehicle</field>
            <field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@class='oe_title']//group[@name='brand_and_model']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>

                <xpath expr="//div[@class='oe_title']" position="before">
                    <field name="type" widget="radio" options="{'horizontal':true}" readonly="1"/>
                </xpath>
                
                <xpath expr="//div[@class='oe_title']//h1" position="after">
                    <div class="o_row" attrs="{'invisible':['|',('repair_code','!=',False),('type','!=','repair_product')]}">
                            <field name="repair_code_prefix_id" placeholder="ASC" options="{'no_quick_create': true, 'no_create_edit':true}" attrs="{'required':[('repair_code','=',False),('type','=','repair_product')]}"/> -
                            <field name="seq" readonly="1" force_save="1"/>
                    </div>
                    <field name="repair_code" readonly="1" attrs="{'invisible':['|',('repair_code','=',False),('type','!=','repair_product')]}"/> 
                    <group col="2" attrs="{'invisible':[('type','!=','repair_product')]}">     
                        <group>
                            <field name="owner_type"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="//div[@class='oe_title']//label[@for='license_plate']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//div[@class='oe_title']//h2" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//div[@class='oe_title']//label[@for='tag_ids']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//div[@class='oe_title']//field[@name='tag_ids']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//div[@class='oe_title']//field[@name='tag_ids']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//group[@name='fleet_specification']" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//sheet/group/group[1]" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//sheet/group/group[2]" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//notebook" position="attributes">
                    <attribute name="attrs">{'invisible': [('type','=','repair_product')]}</attribute>
                </xpath>
                <xpath expr="//notebook" position="after">
                  <notebook attrs="{'invisible': [('type','!=','repair_product')]}">
                      <page string="Information" >
                        <group>
                            <group string="Configuration">
                                <field name="owner_id"  options="{'no_quick_create': true, 'no_create_edit':true}" />
                                <field name="product_id"  options="{'no_quick_create': true, 'no_create_edit':true}" />
                                <field name="partner_id"  options="{'no_quick_create': true, 'no_create_edit':true}" />
                                <field name="repair_account_id"  options="{'no_quick_create': true, 'no_create_edit':true}" />
                            </group>
                        </group>
                      </page>
                  </notebook>
                </xpath>
                <xpath expr="//field[@name='model_id']" position="attributes">
                    <attribute name="attrs">{'required': [('type','!=','repair_product')]}</attribute>
                </xpath>
            </field>
        </record>
    </data>
</odoo>