<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="report_invoice_tanz_document">
    <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
    <style>
        .custom-font{
            font-family: 'Roboto', sans-serif;
        }
        
        .quotation-table-container {
            width: 100%;
        }
        
        .quotation-table-class {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            text-align: left;
            border:1px solid #849cc2;
        }
        
        .quotation-table-class th, .quotation-table-class td {
            padding: 9px 9px;
            <!--border: 1px solid #ddd;-->
        }
        
        .quotation-table-class th {
            <!--background-color: #f2f2f2;-->
        }


        .quotation-table-class tbody tr:nth-child(odd) {
            background-color: #849cc2;
        }
        .text-end{
            float: right;
        }
        .colored_td{
            background-color:#4472C4 !important;
            color:#e4eaf5 !important;
        }
        .quotation_footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            <!--color: white;-->
            text-align: center;
        }

    </style>
    <div class="custom-font">


        <div class="row">
            <table class="table table-bordered" style="width:100%">
            <tr>
                <td style="padding:10 0px;">Invoice : <span>TANZ/<t t-esc="doc.payment_reference"/></span>
                <!--<t t-if="doc.state == 'draft'">-->
                <!--    <span>TANZ/QUO/<t t-esc="doc.name"/></span>-->
                <!--</t>-->
                <!--<t t-if="doc.state == 'sale'">-->
                <!--    <span><t t-esc="doc.name"/></span>-->
                <!--</t>-->
                
                </td>
                <td style="padding:10 0px;"/>
                <td style="padding:10 0px;">Quotation : <span>TANZ/QUO/<t t-esc="doc.invoice_line_ids.sale_line_ids.order_id.quotation_ref"/></span></td>
            </tr>
            <tr>
                <td style="padding:10 0px;">Invoice Date : <span t-field="doc.invoice_date" t-options="{&quot;widget&quot;: &quot;date&quot;,&quot;format&quot;: &quot;dd-MM-yyyy&quot;}"/></td>
                <td style="padding:10 0px;">Payment Terms : <span><t t-esc="doc.invoice_payment_term_id.name"/></span></td>
                <td style="padding:10 0px;">Currency : <span><t t-esc="doc.currency_id.name"/></span></td>
            </tr>
            <!--<tr>-->
            <!--    <td style="padding:10 0px;">Customer : <span><t t-esc="doc.partner_id.name"/></span></td>-->
            <!--    <td style="padding:10 0px;">Contact Person : <span><t t-esc="doc.other_contact_id.name"/></span></td>-->
            <!--    <td style="padding:10 0px;">Phone No : <span><t t-esc="doc.partner_id.phone"/></span></td>-->

            <!--</tr>-->
            <!--<tr>-->
            <!--    <td style="padding:10 0px;">Sales Person : <span><t t-esc="doc.user_id.name"/></span></td>-->
            <!--    <td style="padding:10 0px;">Phone No : <span><t t-esc="doc.user_id.partner_id.phone"/></span></td>-->
            <!--    <td style="padding:10 0px;">Payment Terms : <span><t t-esc="doc.payment_term_id.name"/></span></td>-->
            <!--</tr>-->
            </table>
        </div>
        <div class="row">
            <div class="quotation-table-container">
                <table class="quotation-table-class">
                    <thead>
                        <tr class="colored_td" align="center">
                            <th>NO</th>
                            <th>DESCRIPTION</th>
                            <th>PRICES</th>
                            <th>QTY</th>
                            <th>TOTAL PRICES</th>
                        </tr>
                    </thead>
                    <tbody>
                    <t t-set="lines_to_report" t-value="doc.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)"/>
                    <t t-set="counter" t-value="0"/>
                    <t t-set="current_subtotal" t-value="0"/>
                    <t t-foreach="lines_to_report" t-as="line">
                        <!--<t t-if="line.display_type in ('line_section','line_note')">-->
                        <!--  <tr>-->
                        <!--    <td/>-->
                        <!--    <td colspan="4"><span/><t t-esc="line.name"/></td>-->
                        <!--  </tr>-->
                          
                        <!--</t>-->
                        <!--<t t-else="">-->

                          <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal"/>
  
                          <t t-set="counter" t-value="counter + 1"/>
                          <tr>
                            <td><span><t t-esc="counter"/></span></td>
                            <td><span><t t-esc="line.name"/></span>
                            <span t-raw="line._get_invoice_description_report()"/>
                            </td>
                            <td><span class="text-end"><t t-esc="'{0:,.2f}'.format(int(line.price_unit))"/></span></td>
                            <td><span class="text-end"><t t-esc="line.quantity"/></span></td>
                            <td><span class="text-end"><t t-esc="'{0:,.2f}'.format(int(line.price_subtotal))"/></span></td>
  
                          </tr>
                        <!--</t>-->

                    </t>
                        <tr>
                        <td/>
                        <td colspan="3">Sub Total</td>
                        <td><span class="text-end"><t t-esc="'{0:,.2f}'.format(int(current_subtotal))"/></span></td>
                        
                        </tr>
                        
                        <t t-if="doc.discount_amt &gt; 0">
                        <tr>
                            <td/>
                            <td colspan="3">Discount</td>
                            <td><span class="text-end"><t t-esc="'{0:,.2f}'.format(int(doc.discount_amt))"/></span></td>
                        </tr>                         
                        </t>
                        <t t-if="doc.amount_tax &gt; 0">
                        <tr>
                            <td/>
                            <td colspan="3">Tax</td>
                            <td><span class="text-end"><t t-esc="'{0:,.2f}'.format(int(doc.amount_tax))"/></span></td>
                        </tr>                         
                        </t>
                        <tr class="colored_td">
                        <td/>
                        <td colspan="3">Total</td>
                        <td><span class="text-end"><t t-class="text-end" t-esc="'{0:,.2f}'.format(int(doc.amount_total))"/></span></td>
                        
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
            
              
        <!--<t t-if="doc.note">-->
        <!--    <div class="terms_and_condition">-->
        <!--    <t t-set="terms_and_condition" t-value="str('TERMS &amp; CONDITIONS')"/>-->
        <!--    <h3><t t-esc="terms_and_condition"/></h3>-->
        <!--    <t t-esc="doc.note"/>-->
        <!--</div>-->
        <!--</t>-->
    </div>
</template>


<template id="report_invoice_tanz">
    <t t-call="web.html_container">
        <t t-set="doc_length" t-value="len(docs)"/>
        <t t-set="counter" t-value="0"/>

        <t t-foreach="docs" t-as="doc">
            <t t-set="counter" t-value="counter + 1"/>

            <div class="header">
              <div style="padding-top:10px">
                  <t t-if="doc.company_id.company_logo">
                        <img t-att-src="image_data_uri(doc.company_id.company_logo)" style="float:right" width="20%"/>
                  </t>

              </div>

                <div class="text-center" align="center" style="margin-top:8%;">
                    <h1><b>INVOICE</b></h1>
  
                </div>
            </div>
            
            <t t-call="sales_extension.report_invoice_tanz_document" t-lang="doc.partner_id.lang"/>
            
            <t t-if="counter != doc_length">
                <div class="page-break" style="page-break-after: always"/>
            </t>


            <div class="footer">
                <div class="text-center">
                    <p style="color:#4472C4">Your SUCCESS is <strong>Our BUSINESS</strong></p>
                    <p>No.83, Depaeyin Wunn Htauk U Mye Street, Industrial Zone 4, Shwe Pyi Thar Township, Yangon.</p>
                    <p><a href="www.tanz.tech">www.tanz.tech</a>, Hotline :+959 452451757</p>
                </div>
            </div>
        </t>
    </t>


</template>

</odoo>
